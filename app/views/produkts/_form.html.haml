= form_for @produkt, :html => {:class => 'ui form', multipart: true } do |f|
  - if @produkt.errors.any?
    #error_explanation
      %h2= "#{pluralize(@produkt.errors.count, "error")} prohibited this produkt from being saved:"
      %ul
        - @produkt.errors.full_messages.each do |message|
          %li= message

  .field
    = f.label :name
    = f.text_field :name
  .field
    .ui.checkbox
      = f.check_box :aktiv, :class => 'checkbox'
      = f.label :aktiv
  .field
    .ui.checkbox
      = f.check_box :ausverkauft, :class => 'checkbox'
      = f.label :ausverkauft
  .field
    = f.label :preis
    = f.text_field :preis
  .field
    = f.label :kategorie_id
    = f.select :kategorie_id, options_from_collection_for_select(Kategorie.all, :id, :name, f.object.kategorie_id),{}, {class: 'ui dropdown'}
  .field
    .ui.top.attached.segment
      .ui.top.attached.label
        Bilder
      .field
        %div
          .feedbild{style: "position:relative; display: inline-block"}
            - if f.object.produktbild.present?
              = image_tag(f.object.produktbild, height: 200)
              - if action_name == "edit"
                = link_to delete_image_attachment_feed_url(f.object.produktbild.id, produkt: @produkt.id), method: :delete, data: { confirm: 'Bild löschen?' }, class: "ui icon button red mini", style: "position: absolute; right: 5%; top: 5%" do
                  %i.trash.alternate.outline.icon
        = f.label :produktbild, class:"button green ui basic", style: "display: inline-block; color: white; margin-top: 10px" do
          %i.icon.plus
          Bild hinzufügen
        = f.file_field :produktbild, class:"image-input", style:"opacity: 0; position: absolute"
        #img-previews{style: "display:none"}
          %h5 Bild-Upload:

  .actions
    = link_to 'Zurück', produkts_path, :class  => 'ui button red basic'
    = f.submit 'Speichern', :class  => 'ui button green basic'


:css
  #img-previews {margin-top: 15px}
  #img-previews img {
    height: 100px;
  }       